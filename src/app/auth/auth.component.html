<div
  class="flex max-w-7xl flex-1 flex-col items-center justify-center px-6 lg:px-8"
>
  <img
    class="absolute left-0 top-0 -z-10 h-full w-full object-cover object-center"
    src="../../assets/homepage-bg.webp"
    alt="Homepage background image"
  />
  <div class="flex w-full flex-col items-center justify-center">
    <div
      class="flex w-full max-w-md flex-col items-center justify-center rounded-sm bg-amber-500 p-4 text-start opacity-90 shadow-xl xl:max-w-xl 3xl:max-w-2xl 3xl:p-8"
    >
      <form
        [formGroup]="signInForm"
        (ngSubmit)="onSubmit()"
        *ngIf="!isSignUpMode; else signUpFormEl"
      >
        <div class="flex w-full flex-col py-4">
          <div
            class="flex w-full items-center justify-between md:text-lg xl:text-xl"
          >
            <label for="email" class="pr-4">E-mail</label>
            <input
              type="email"
              id="email"
              class="rounded-sm p-1 text-zinc-900"
              formControlName="email"
            />
          </div>
          <span
            class="pt-4 text-rose-600"
            *ngIf="
              !signInForm.controls.email.valid &&
              signInForm.controls.email.touched
            "
          >
            Please enter a valid e-mail!
          </span>
        </div>

        <div class="flex w-full flex-col py-4">
          <div
            class="flex w-full items-center justify-between md:text-lg xl:text-xl"
          >
            <label for="password" class="pr-4">Password</label>
            <input
              type="password"
              id="password"
              class="rounded-sm p-1 text-zinc-900"
              formControlName="password"
              minlength="6"
            />
          </div>
          <span
            class="pt-4 text-rose-600"
            *ngIf="
              !signInForm.controls.password.valid &&
              signInForm.controls.password.touched
            "
          >
            Password needs to be atleast 6 characters long!
          </span>
        </div>

        <div
          class="mt-8 flex w-full max-w-md flex-wrap items-center justify-center md:flex-nowrap md:gap-4 xl:max-w-xl 3xl:max-w-2xl"
        >
          <span class="w-full">
            <button
              type="submit"
              [disabled]="!signInForm.valid"
              class="group relative w-full max-w-xs overflow-hidden rounded-md bg-zinc-100 bg-opacity-70 px-8 py-3 shadow-xl transition-all hover:bg-opacity-100 disabled:cursor-not-allowed 3xl:px-12 3xl:py-3"
            >
              <div
                class="absolute inset-0 w-full transition-all duration-[250ms] ease-out"
                [ngClass]="
                  signInForm.valid
                    ? 'bg-blue-500 group-hover:w-3'
                    : 'bg-zinc-300'
                "
              ></div>
              <span
                class="relative transition-all md:text-lg xl:text-xl"
                [ngClass]="
                  signInForm.valid
                    ? 'text-zinc-100 group-hover:text-zinc-900'
                    : 'text-zinc-900'
                "
              >
                {{ isSignUpMode ? "Sign Up" : "Sign In" }}
              </span>
            </button>
          </span>

          <span class="mt-3 w-full md:mt-0">
            <button
              type="button"
              (click)="handleGoogleSignIn()"
              class="group relative w-full max-w-xs overflow-hidden rounded-md bg-zinc-100 bg-opacity-70 px-8 py-3 shadow-xl transition-all hover:bg-opacity-100 disabled:cursor-not-allowed 3xl:px-12 3xl:py-3"
            >
              <div
                class="absolute inset-0 w-full bg-emerald-500 transition-all duration-[250ms] ease-out group-hover:w-3"
              ></div>
              <span
                class="relative text-zinc-100 transition-all group-hover:text-zinc-900 md:text-lg xl:text-xl"
              >
                Google
              </span>
            </button>
          </span>
        </div>
      </form>

      <ng-template #signUpFormEl>
        <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
          <div class="flex w-full flex-col py-4">
            <div
              class="flex w-full items-center justify-between md:text-lg xl:text-xl"
            >
              <label for="firstName" class="pr-4">First Name</label>
              <input
                type="text"
                id="firstName"
                class="rounded-sm p-1 text-zinc-900"
                formControlName="firstName"
              />
            </div>
            <span
              class="pt-4 text-rose-600"
              *ngIf="
                !signUpForm.controls.email.valid &&
                signUpForm.controls.email.touched
              "
            >
              Please enter your first name!
            </span>
          </div>

          <div class="flex w-full flex-col py-4">
            <div
              class="flex w-full items-center justify-between md:text-lg xl:text-xl"
            >
              <label for="lastName" class="pr-4">Last Name</label>
              <input
                type="text"
                id="lastName"
                class="rounded-sm p-1 text-zinc-900"
                formControlName="lastName"
              />
            </div>
            <span
              class="pt-4 text-rose-600"
              *ngIf="
                !signUpForm.controls.email.valid &&
                signUpForm.controls.email.touched
              "
            >
              Please enter your last name!
            </span>
          </div>

          <div class="flex w-full flex-col py-4">
            <div
              class="flex w-full items-center justify-between md:text-lg xl:text-xl"
            >
              <label for="email" class="pr-4">E-mail</label>
              <input
                type="email"
                id="email"
                class="rounded-sm p-1 text-zinc-900"
                formControlName="email"
              />
            </div>
            <span
              class="pt-4 text-rose-600"
              *ngIf="
                !signUpForm.controls.email.valid &&
                signUpForm.controls.email.touched
              "
            >
              Please enter a valid e-mail!
            </span>
          </div>

          <div class="flex w-full flex-col py-4">
            <div
              class="flex w-full items-center justify-between md:text-lg xl:text-xl"
            >
              <label for="password" class="pr-4">Password</label>
              <input
                type="password"
                id="password"
                class="rounded-sm p-1 text-zinc-900"
                formControlName="password"
                minlength="6"
              />
            </div>
            <span
              class="pt-4 text-rose-600"
              *ngIf="
                !signUpForm.controls.password.valid &&
                signUpForm.controls.password.touched
              "
            >
              Password needs to be atleast 6 characters long!
            </span>
          </div>

          <div
            class="mt-8 flex w-full max-w-md items-center justify-center xl:max-w-xl 3xl:max-w-2xl"
          >
            <span class="flex w-full items-center justify-center md:pt-0">
              <button
                type="submit"
                [disabled]="!signUpForm.valid"
                class="group relative w-full overflow-hidden rounded-md bg-zinc-100 bg-opacity-70 px-8 py-3 shadow-xl transition-all hover:bg-opacity-100 disabled:cursor-not-allowed 3xl:px-12 3xl:py-3"
              >
                <div
                  class="absolute inset-0 w-full transition-all duration-[250ms] ease-out"
                  [ngClass]="
                    signUpForm.valid
                      ? 'bg-blue-500 group-hover:w-3'
                      : 'bg-zinc-300'
                  "
                ></div>
                <span
                  class="relative transition-all md:text-lg xl:text-xl"
                  [ngClass]="
                    signUpForm.valid
                      ? 'text-zinc-100 group-hover:text-zinc-900'
                      : 'text-zinc-900'
                  "
                >
                  {{ isSignUpMode ? "Sign Up" : "Sign In" }}
                </span>
              </button>
            </span>
          </div>
        </form>
      </ng-template>
    </div>
  </div>

  <div
    class="mt-16 flex w-full max-w-md flex-col items-center justify-center xl:max-w-xl 3xl:max-w-2xl"
  >
    <span
      class="w-fit cursor-pointer border-b-2 border-transparent font-bold text-amber-500 transition-all hover:border-zinc-900 hover:text-amber-600 md:text-lg xl:text-xl"
      (click)="onSignUpHandler()"
    >
      {{
        !isSignUpMode
          ? "No Account? Sign Up!"
          : "Already have an account? Sign In!"
      }}</span
    >
  </div>
</div>
